<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}My Portfolio{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body class="fade-in layout">

<nav class="navbar">
    <div class="nav-left">My Portfolio</div>

    <div class="nav-right">
        <a href="{{ url_for('m1_pages.home') }}"
           class="{% if request.endpoint == 'm1_pages.home' %}active{% endif %}">
            Home
        </a>

        <a href="{{ url_for('m1_pages.about') }}"
           class="{% if request.endpoint == 'm1_pages.about' %}active{% endif %}">
            About
        </a>

        <a href="{{ url_for('m1_pages.projects') }}"
           class="{% if request.endpoint == 'm1_pages.projects' %}active{% endif %}">
            Projects
        </a>

        <button id="theme-toggle" class="theme-toggle">ğŸŒ™</button>
    </div>
</nav>

<div class="page-container">
    {% block content %}{% endblock %}
</div>

<footer class="footer">
    <p>Â© {{ current_year }} Â· Inspired by Johns Hopkins University</p>
</footer>

<script>
    const toggle = document.getElementById("theme-toggle");
    const html = document.documentElement;

    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
        html.setAttribute("data-theme", savedTheme);
        toggle.textContent = savedTheme === "dark" ? "â˜€ï¸" : "ğŸŒ™";
    }

    toggle.addEventListener("click", () => {
        const isDark = html.getAttribute("data-theme") === "dark";
        const newTheme = isDark ? "light" : "dark";

        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        toggle.textContent = newTheme === "dark" ? "â˜€ï¸" : "ğŸŒ™";
    });
</script>

</body>
</html>
